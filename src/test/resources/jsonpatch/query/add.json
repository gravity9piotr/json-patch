{
  "errors": [
    {
      "op": { "op": "add", "path": "$.a[?(@.aa)].aax[0].b=='11'", "value": 1 },
      "node": { "a": [{"aa": [{"b":  "val", "c": false}]}]},
      "message": "Missing property in path $['a'][0]['aax']"
    },
    {
      "op": { "op": "add", "path": "$.a[?(@.aa)].aa.b=='11'", "value": 1 },
      "node": { "a": [{"aa": [{"b":  "val", "c": false}]}]},
      "message": "reference token is not an array index"
    },
    {
      "op": { "op": "add", "path": "$.a[0].aa[0].b.c]", "value": 1 },
      "node": { "a": [{"aa": []}]},
      "message": "Expected to find an object with property ['b'] in path $['a'][0]['aa'][0] but found 'null'. This is not a json object according to the JsonProvider: 'com.jayway.jsonpath.spi.json.JacksonJsonNodeJsonProvider'."
    }
  ],
  "ops": [
    {
      "op": {
        "op": "add",
        "path": "/note/text?note.verified=true",
        "value": "Informed"
      },
      "node": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "verified": false,
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans"
          },
          {
            "verified": true,
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe"
          }
        ]
      },
      "expected": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "verified": false,
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans"
          },
          {
            "verified": true,
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe",
            "text": "Informed"
          }
        ]
      }
    },
    {
      "op": {
        "op": "add",
        "path": "/note/text?note.author=Arthur Evans&note.verified=false",
        "value": "Informed"
      },
      "node": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "verified": false,
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans"
          },
          {
            "verified": true,
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe"
          }
        ]
      },
      "expected": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "verified": false,
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "text": "Informed"
          },
          {
            "verified": true,
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe"
          }
        ]
      }
    },
    {
      "op": {
        "op": "add",
        "path": "/note/text?note.verified=false",
        "value": "Informed"
      },
      "node": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "verified": false,
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "text": "Old informed"
          },
          {
            "verified": true,
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe"
          }
        ]
      },
      "expected": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "verified": false,
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "text": "Informed"
          },
          {
            "verified": true,
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe"
          }
        ]
      }
    },
    {
      "op": {
        "op": "add",
        "path": "/note/text?note.text=Old informed",
        "value": "Informed predicate"
      },
      "node": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "verified": false,
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "text": "Old informed"
          },
          {
            "verified": true,
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe"
          }
        ]
      },
      "expected": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "verified": false,
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "text": "Informed predicate"
          },
          {
            "verified": true,
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe"
          }
        ]
      }
    },
    {
      "op": {
        "op": "add",
        "path": "/note/text?note.price=8.5",
        "value": "Informed"
      },
      "node": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "price": 16
          },
          {
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe",
            "price": 8.5
          }
        ]
      },
      "expected": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "price": 16
          },
          {
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe",
            "price": 8.5,
            "text": "Informed"
          }
        ]
      }
    },
    {
      "op": {
        "op": "add",
        "path": "/note/text?note.price>9",
        "value": "Informed"
      },
      "node": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "price": 16
          },
          {
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe",
            "price": 8.5
          }
        ]
      },
      "expected": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "price": 16,
            "text": "Informed"
          },
          {
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe",
            "price": 8.5
          }
        ]
      }
    },
    {
      "description": "TMF630 - Example 1 - Adding an attribute to one of the components of an array",
      "op": {
        "op": "add",
        "path": "/note/text?note.author=John Doe",
        "value": "Informed"
      },
      "node": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans"
          },
          {
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe"
          }
        ]
      },
      "expected": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans"
          },
          {
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe",
            "text": "Informed"
          }
        ]
      }
    },
    {
      "description": "Additional test 1",
      "op": {
        "op": "add",
        "path": "/contactMedium/ThisHasBeenAdded?contactMedium.mediumType=phone",
        "value": true
      },
      "node": {
        "aristocraticTitle": "Baron",
        "boolean": true,
        "deathDate": "2021-07-12T10:54:17Z",
        "title": "Sir",
        "contactMedium": [
          {
            "mediumType": "phone",
            "preferred": false,
            "characteristic": {
              "addressKeyType": "AA",
              "addressKey": "AAAAA"
            }
          },
          {
            "mediumType": "pager",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB"
            }
          },
          {
            "mediumType": "facebook",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB",
              "detail": {
                "detailA": "A",
                "detailB": "B"
              }
            }
          }
        ]
      },
      "expected": {
        "aristocraticTitle": "Baron",
        "boolean": true,
        "deathDate": "2021-07-12T10:54:17Z",
        "title": "Sir",
        "contactMedium": [
          {
            "mediumType": "phone",
            "preferred": false,
            "characteristic": {
              "addressKeyType": "AA",
              "addressKey": "AAAAA"
            },
            "ThisHasBeenAdded": true
          },
          {
            "mediumType": "pager",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB"
            }
          },
          {
            "mediumType": "facebook",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB",
              "detail": {
                "detailA": "A",
                "detailB": "B"
              }
            }
          }
        ]
      }
    },
    {
      "description": "Additional test 2",
      "op": {
        "op": "add",
        "path": "contactMedium[?(@.mediumType=='phone')].newProperty",
        "value": {
          "ThisHasBeenAdded": true
        }
      },
      "node": {
        "aristocraticTitle": "Baron",
        "boolean": true,
        "deathDate": "2021-07-12T10:54:17Z",
        "title": "Sir",
        "contactMedium": [
          {
            "mediumType": "phone",
            "preferred": false,
            "characteristic": {
              "addressKeyType": "AA",
              "addressKey": "AAAAA"
            }
          },
          {
            "mediumType": "pager",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB"
            }
          },
          {
            "mediumType": "facebook",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB",
              "detail": {
                "detailA": "A",
                "detailB": "B"
              }
            }
          }
        ]
      },
      "expected": {
        "aristocraticTitle": "Baron",
        "boolean": true,
        "deathDate": "2021-07-12T10:54:17Z",
        "title": "Sir",
        "contactMedium": [
          {
            "mediumType": "phone",
            "preferred": false,
            "characteristic": {
              "addressKeyType": "AA",
              "addressKey": "AAAAA"
            },
            "newProperty": {"ThisHasBeenAdded": true}
          },
          {
            "mediumType": "pager",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB"
            }
          },
          {
            "mediumType": "facebook",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB",
              "detail": {
                "detailA": "A",
                "detailB": "B"
              }
            }
          }
        ]
      }
    },
    {
      "description": "Additional test 2",
      "op": {
        "op": "add",
        "path": "contactMedium[?(@.mediumType=='phone')].newProperty",
        "value": {
          "ThisHasBeenAdded": true
        }
      },
      "node": {
        "aristocraticTitle": "Baron",
        "boolean": true,
        "deathDate": "2021-07-12T10:54:17Z",
        "title": "Sir",
        "contactMedium": [
          {
            "mediumType": "phone",
            "preferred": false,
            "characteristic": {
              "addressKeyType": "AA",
              "addressKey": "AAAAA"
            }
          },
          {
            "mediumType": "pager",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB"
            }
          },
          {
            "mediumType": "facebook",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB",
              "detail": {
                "detailA": "A",
                "detailB": "B"
              }
            }
          }
        ]
      },
      "expected": {
        "aristocraticTitle": "Baron",
        "boolean": true,
        "deathDate": "2021-07-12T10:54:17Z",
        "title": "Sir",
        "contactMedium": [
          {
            "mediumType": "phone",
            "preferred": false,
            "characteristic": {
              "addressKeyType": "AA",
              "addressKey": "AAAAA"
            },
            "newProperty": {"ThisHasBeenAdded": true}
          },
          {
            "mediumType": "pager",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB"
            }
          },
          {
            "mediumType": "facebook",
            "preferred": true,
            "characteristic": {
              "addressKeyType": "BB",
              "addressKey": "BBBBBB",
              "detail": {
                "detailA": "A",
                "detailB": "B"
              }
            }
          }
        ]
      }
    },
    {
      "description": "Raw json path",
      "op": {
        "op": "add",
        "path": "$.note[?(@.author=='Arthur Evans')].books[?(@.pages > 300)].tags",
        "value": "long,heavy"
      },
      "node": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "books": [
              {
                "title": "W łazience i w kuchni",
                "pages": 223
              },
              {
                "title": "Miś i Honorata",
                "pages": 390
              }
            ]
          },
          {
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe",
            "books": [
              {
                "title": "Anna Karolina",
                "pages": 450
              }
            ]
          }
        ]
      },
      "expected": {
        "id": "1",
        "correlationId": "TT53482",
        "note": [
          {
            "date": "2013-07-24T09:55:30.0Z",
            "author": "Arthur Evans",
            "books": [
              {
                "title": "W łazience i w kuchni",
                "pages": 223
              },
              {
                "title": "Miś i Honorata",
                "pages": 390,
                "tags": "long,heavy"
              }
            ]
          },
          {
            "date": "2013-07-25T08:55:12.0Z",
            "author": "John Doe",
            "books": [
              {
                "title": "Anna Karolina",
                "pages": 450
              }
            ]
          }
        ]
      }
    }
  ]
}
